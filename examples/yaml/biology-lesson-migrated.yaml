# MIGRATED EXAMPLE: Biology Lesson with AI Configuration
#
# This file demonstrates the AFTER state of migrating to the new aiConfig system.
# Compare with biology-lesson.yaml to see the improvements:
#
# BEFORE (biology-lesson.yaml):
# - Prompts contain embedded formatting instructions
# - Reading level and tone are implicit in prompt wording
# - Formatting instructions must be repeated in every prompt
# - No centralized control over content complexity
#
# AFTER (this file):
# - Clean, simple prompts focused on content
# - Explicit reading level configuration (high-school)
# - System handles all formatting automatically
# - Easy to adjust reading level for entire book
# - Customization field for advanced requirements

title: "AI-Generated Biology Lesson"
language: "en"
description: "Interactive book about photosynthesis with AI-generated quiz"

# NEW: Book-level AI configuration
# This applies to ALL ai-text and ai-quiz items unless overridden
aiConfig:
  targetAudience: "high-school"  # Appropriate for AP Biology students
  tone: "academic"               # Scholarly, research-oriented tone
  customization: |
    Use accurate scientific terminology.
    Reference the photosynthetic equation.
    Prepare students for advanced biology coursework.

chapters:
  - title: "Introduction to Photosynthesis"
    content:
      - type: ai-text
        # BEFORE: Long prompt with embedded instructions:
        # "Write a clear, educational summary of photosynthesis for high school students.
        #  Include information about the process, inputs (sunlight, water, carbon dioxide),
        #  outputs (oxygen, glucose), and where it occurs in plant cells (chloroplasts).
        #  Make it about 150-200 words. IMPORTANT: Use plain text only - no markdown
        #  formatting, no asterisks for bold, no special characters. Write naturally
        #  with proper paragraphs separated by blank lines."
        #
        # AFTER: Clean, simple prompt focused on content:
        prompt: "Explain photosynthesis, including inputs, outputs, and where it occurs in plant cells. Cover the overall process in detail."
        title: "What is Photosynthesis?"
        # The system automatically:
        # - Applies HTML formatting rules
        # - Uses high-school vocabulary and sentence complexity
        # - Maintains academic tone
        # - Includes scientific terminology per customization

  - title: "Cell Structure"
    content:
      - type: text
        title: "Chloroplasts and Plant Cells"
        text: "This diagram shows the cell structures involved in photosynthesis. The chloroplasts contain chlorophyll, which captures light energy and converts it into chemical energy."

      - type: image
        path: "../tests/images/test-image.jpg"
        alt: "Microscopic view of plant cells showing chloroplasts"
        title: "Plant Cell Diagram"

  - title: "Audio Narration"
    content:
      - type: text
        title: "Listen and Learn"
        text: "Play the audio below to hear more about the photosynthesis process."

      - type: audio
        path: "../tests/audios/test-audio.mp3"
        title: "Photosynthesis Audio Explanation"

  - title: "Test Your Knowledge"
    # NEW: Chapter-level override for quiz
    # Make quiz questions slightly easier than main content
    aiConfig:
      targetAudience: "grade-9"  # Override book-level for this chapter
      # tone and customization inherited from book level

    content:
      - type: text
        title: "Quiz Time!"
        text: "Now that you've learned about photosynthesis, test your understanding with this quiz."

      - type: ai-quiz
        # Clean source text without formatting instructions
        sourceText: |
          Photosynthesis is the process by which plants use sunlight, water and carbon dioxide to create oxygen and energy in the form of sugar (glucose).

          This process occurs in the chloroplasts of plant cells, which contain chlorophyll - the green pigment that absorbs light energy.

          The overall equation for photosynthesis is: 6CO2 + 6H2O + light energy â†’ C6H12O6 + 6O2

          This means six molecules of carbon dioxide plus six molecules of water, using light energy, produces one molecule of glucose and six molecules of oxygen.

          Photosynthesis has two main stages: the light-dependent reactions (which occur in the thylakoid membranes) and the light-independent reactions or Calvin cycle (which occur in the stroma).
        questionCount: 5
        title: "Photosynthesis Quiz"
        # Questions will use grade-9 reading level (from chapter override)
        # This makes quiz more accessible while keeping main content at high-school level

# MIGRATION BENEFITS:
#
# 1. CLEANER YAML
#    - Prompts are 60-70% shorter
#    - Focus on WHAT to explain, not HOW to format
#    - Easier to read and maintain
#
# 2. CONSISTENT OUTPUT
#    - All content uses same formatting rules
#    - No risk of forgetting instructions in one prompt
#    - System ensures HTML compliance
#
# 3. FLEXIBILITY
#    - Change reading level for entire book in one place
#    - Override at chapter/item level when needed
#    - Adjust tone without rewriting prompts
#
# 4. BETTER CONTROL
#    - Explicit reading level selection
#    - Predictable vocabulary and sentence complexity
#    - Customization field for advanced requirements
#
# 5. EASIER MAINTENANCE
#    - Update formatting rules centrally (AIPromptBuilder)
#    - No need to update every YAML file
#    - Backward compatible with old files

# HOW TO MIGRATE YOUR YAML FILES:
#
# Step 1: Add book-level aiConfig
#   - Choose appropriate targetAudience (elementary through professional)
#   - Choose tone (educational, professional, casual, academic)
#   - Add customization if needed
#
# Step 2: Simplify prompts
#   - Remove "IMPORTANT: Use plain text only..." instructions
#   - Remove "no markdown formatting" instructions
#   - Remove "Write naturally with proper paragraphs" instructions
#   - Remove "Keep it to X words" constraints
#   - Focus only on CONTENT requirements
#
# Step 3: Add chapter/item overrides if needed
#   - Use chapter aiConfig for different sections
#   - Use item aiConfig for special cases
#
# Step 4: Test and iterate
#   - Generate content with new configuration
#   - Adjust reading level if output is too complex/simple
#   - Refine customization as needed
#
# See docs/ai-config-migration-guide.md for detailed instructions
